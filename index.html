<!doctype html>
<html>
    <head>
        <title>ts2c - Convert JavaScript/TypeScript to C</title>
        <meta charset="utf-8" />
        <script src="https://npmcdn.com/typescript"></script>
        <script src="ts2c.bundle.js"></script>
        <link rel="stylesheet" href="style.css" />

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/codemirror.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/codemirror.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/mode/javascript/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/mode/clike/clike.min.js"></script>
    </head>
    <body>
        <header>
            <div class="container header">
                <div class="title">ts2c - Convert JavaScript/TypeScript to C</div>
                <a href="https://github.com/andrei-markeev/ts2c">GitHub</a>
            </div>
        </header>

        <div class="container note"><strong>Please note</strong>: Many features aren't supported yet. See <a href="https://github.com/andrei-markeev/ts2c/blob/master/COVERAGE.md">COVERAGE.md</a> for details.</div>
        <div class="container main">
            <div class="editor">
                <textarea id="source">console.log("Hello world!");</textarea>
            </div>
            <button onclick="transpile()">Transpile</button>
            <div class="editor">
                <textarea id="target"></textarea>
            </div>
        </div>

        <script type="text/javascript">
            var sourceEditor = CodeMirror.fromTextArea(document.getElementById('source'), {
                lineNumbers: true,
                viewportMargin: Infinity,
                mode: 'javascript'
            });
            sourceEditor.setSize('auto', 'auto');
            var targetEditor = CodeMirror.fromTextArea(document.getElementById('target'), {
                lineNumbers: true,
                readOnly: true,
                viewportMargin: Infinity,
                mode: 'text/x-csrc'
            });
            targetEditor.setSize('auto', 'auto');
            function transpile() {
                var source = sourceEditor.getValue();
                var transpiled = ts2c.transpile(source);
                targetEditor.setValue(transpiled);
            }
            transpile();
        </script>
    </body>
</html>
