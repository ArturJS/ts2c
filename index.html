<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <script src="https://npmcdn.com/typescript"></script>
        <script src="ts2c.bundle.js"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/codemirror.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/codemirror.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/mode/javascript/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/mode/clike/clike.min.js"></script>
    </head>
    <body>

        <p><strong>Please note</strong>: many features aren't supported yet. See <a href="https://github.com/andrei-markeev/ts2c/blob/master/COVERAGE.md">COVERAGE.md</a> for details.</p>
        <article>
            <p>
                <textarea id="source" cols="50" rows="3">console.log("Hello world!");</textarea>
            </p>
        </article>
        <p>
            <button onclick="transpile()">Transpile</button>
        </p>
        <article>
            <textarea id="target"></textarea>
        </article>
        <script type="text/javascript">
            var sourceEditor = CodeMirror.fromTextArea(document.getElementById('source'), {
                lineNumbers: true,
                viewportMargin: Infinity,
                mode: 'javascript'
            });
            sourceEditor.setSize('auto', 'auto');
            var targetEditor = CodeMirror.fromTextArea(document.getElementById('target'), {
                lineNumbers: true,
                readOnly: true,
                viewportMargin: Infinity,
                mode: 'text/x-csrc'
            });
            targetEditor.setSize('auto', 'auto');
            function transpile()
            {
                var source = sourceEditor.getValue();
                var transpiled = ts2c.transpile(source);
                targetEditor.setValue(transpiled);
            }
        </script>
    </body>
</html>
